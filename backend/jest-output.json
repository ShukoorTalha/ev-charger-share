{"numFailedTestSuites":1,"numFailedTests":2,"numPassedTestSuites":0,"numPassedTests":8,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":10,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1752758614272,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Notification API","GET /api/notifications"],"duration":234,"failureDetails":[],"failureMessages":[],"fullName":"Notification API GET /api/notifications should get user notifications","invocations":1,"location":{"column":5,"line":81},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should get user notifications"},{"ancestorTitles":["Notification API","GET /api/notifications"],"duration":102,"failureDetails":[],"failureMessages":[],"fullName":"Notification API GET /api/notifications should filter notifications by read status","invocations":1,"location":{"column":5,"line":92},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should filter notifications by read status"},{"ancestorTitles":["Notification API","GET /api/notifications"],"duration":100,"failureDetails":[],"failureMessages":[],"fullName":"Notification API GET /api/notifications should paginate notifications","invocations":1,"location":{"column":5,"line":103},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should paginate notifications"},{"ancestorTitles":["Notification API","GET /api/notifications"],"duration":92,"failureDetails":[],"failureMessages":[],"fullName":"Notification API GET /api/notifications should return 401 if not authenticated","invocations":1,"location":{"column":5,"line":121},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return 401 if not authenticated"},{"ancestorTitles":["Notification API","PUT /api/notifications/:id/read"],"duration":120,"failureDetails":[],"failureMessages":[],"fullName":"Notification API PUT /api/notifications/:id/read should mark notification as read","invocations":1,"location":{"column":5,"line":130},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should mark notification as read"},{"ancestorTitles":["Notification API","PUT /api/notifications/:id/read"],"duration":96,"failureDetails":[],"failureMessages":[],"fullName":"Notification API PUT /api/notifications/:id/read should return 404 for non-existent notification","invocations":1,"location":{"column":5,"line":150},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent notification"},{"ancestorTitles":["Notification API","PUT /api/notifications/read-all"],"duration":102,"failureDetails":[],"failureMessages":[],"fullName":"Notification API PUT /api/notifications/read-all should mark all notifications as read","invocations":1,"location":{"column":5,"line":160},"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should mark all notifications as read"},{"ancestorTitles":["Notification API","DELETE /api/notifications/:id"],"duration":98,"failureDetails":[{"matcherResult":{"actual":500,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/Users/sandipdas/chargershare/backend/tests/notification.test.js:186:31)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Notification API DELETE /api/notifications/:id should delete notification","invocations":1,"location":{"column":5,"line":179},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete notification"},{"ancestorTitles":["Notification API","DELETE /api/notifications/:id"],"duration":95,"failureDetails":[],"failureMessages":[],"fullName":"Notification API DELETE /api/notifications/:id should return 404 for non-existent notification","invocations":1,"location":{"column":5,"line":194},"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return 404 for non-existent notification"},{"ancestorTitles":["Notification API","DELETE /api/notifications/read"],"duration":92,"failureDetails":[{"matcherResult":{"actual":500,"expected":200,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (/Users/sandipdas/chargershare/backend/tests/notification.test.js:209:31)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"Notification API DELETE /api/notifications/read should delete all read notifications","invocations":1,"location":{"column":5,"line":204},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should delete all read notifications"}],"endTime":1752758616822,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mNotification API › DELETE /api/notifications/:id › should delete notification\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 184 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 185 |\u001b[39m       \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 186 |\u001b[39m       expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 187 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m       \u001b[90m// Verify in database\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/notification.test.js\u001b[39m\u001b[0m\u001b[2m:186:31)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mNotification API › DELETE /api/notifications/read › should delete all read notifications\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 207 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${authToken}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m       \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 209 |\u001b[39m       expect(response\u001b[33m.\u001b[39mstatus)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 210 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 211 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 212 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'deletedCount'\u001b[39m\u001b[33m,\u001b[39m \u001b[35m1\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/notification.test.js\u001b[39m\u001b[0m\u001b[2m:209:31)\u001b[22m\u001b[2m\u001b[22m\n","name":"/Users/sandipdas/chargershare/backend/tests/notification.test.js","startTime":1752758614286,"status":"failed","summary":""}],"wasInterrupted":false}
